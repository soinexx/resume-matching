# TEAM7 Платформа Анализа Резюме

Система анализа резюме на базе ИИ с интеллектуальным подбором вакансий, многоязычной поддержкой и аналитической панелью.

## Возможности

- **Загрузка и анализ резюме**: Поддержка PDF и DOCX форматов
- **Интеллектуальный подбор**: Сопоставление навыков с учётом синонимов
- **Мультиязычность**: Поддержка английского и русского языков
- **Аналитическая панель**: Воронка найма, спрос на навыки, эффективность рекрутеров
- **Асинхронная обработка**: Celery + Redis для фоновых задач
- **Современный UI**: React 18 + Material-UI с адаптивным дизайном

## Быстрый старт

Выберите вашу операционную систему:

### macOS / Linux

```bash
git clone https://github.com/FraudMasters/Team7.git
cd Team7
bash setup.sh
```

### Windows (PowerShell)

```powershell
git clone https://github.com/FraudMasters/Team7.git
cd Team7
.\setup.ps1
```

Затем откройте http://localhost:5173

### Загрузка тестовых данных (опционально)

```bash
# macOS/Linux
bash scripts/load_test_data.sh

# Windows
.\scripts\load-test-data.ps1
```

Это загрузит 65 образцов резюме и 5 вакансий.

## Требования

- **Docker Desktop** (Mac/Windows) или Docker + Docker Compose (Linux)
- **8GB RAM** минимум (16GB рекомендуется)
- **5GB дисковое пространство**

## Сервисы

| Сервис | URL | Описание |
|--------|-----|-----------|
| Frontend | http://localhost:5173 | React UI |
| Backend API | http://localhost:8000 | FastAPI бэкенд |
| API Документация | http://localhost:8000/docs | Интерактивная документация |
| Flower | http://localhost:5555 | Мониторинг Celery |

## Архитектура

```
┌─────────────┐      ┌──────────────┐      ┌─────────────┐
│  Frontend   │─────▶│   Backend    │─────▶│   Database  │
│ (React+MUI) │      │   (FastAPI)  │      │ (PostgreSQL)│
└─────────────┘      └──────────────┘      └─────────────┘
                            │
                    ┌───────┴────────┐
                    ▼                ▼
              ┌─────────┐      ┌──────────┐
              │ Celery  │      │  Redis   │
              │ Worker  │      │  Broker  │
              └─────────┘      └──────────┘
```

## Как это работает

### 1. Загрузка и парсинг резюме

```
┌──────────────┐     ┌──────────────┐     ┌──────────────┐
│ Загрузка PDF/ │────▶│ Извлечение   │────▶│ Сохранить в  │
│   DOCX       │     │ текста        │     │ БД           │
│              │     │ (PyPDF2/     │     │ (статус:     │
│              │     │  python-docx)│     │  загружено)  │
└──────────────┘     └──────────────┘     └──────────────┘
```

### 2. Пайплайн анализа резюме

```
┌─────────────────────────────────────────────────────────────────┐
│                  ПАЙПЛАЙН АНАЛИЗА РЕЗЮМЕ                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  1. ОПРЕДЕЛЕНИЕ ЯЗЫКА (langdetect)                             │
│     └─▶ Определяет английский или русский                       │
│                                                                 │
│  2. ИЗВЛЕЧЕНИЕ КЛЮЧЕВЫХ СЛОВ (KeyBERT)                        │
│     └─▶ Извлекает ключевые навыки и компетенции                │
│                                                                 │
│  3. RECOGNITION СУЩНОСТВЕЙ (SpaCy)                            │
│     ├─▶ en_core_web_sm (английский)                           │
│     └─▶ ru_core_news_sm (русский)                              │
│         • Организации (компании)                                │
│         • Даты (периоды работы)                                 │
│         • Технические навыки                                    │
│         • Имена людей                                           │
│                                                                 │
│  4. РАСЧЁТ ОПЫТА РАБОТЫ                                     │
│     ├─▶ Парсит периоды работы из дат                           │
│     ├─▶ Выявляет пересекающиеся периоды (избегает двойного      │
│         подсчёта)                                              │
│     └─▶ Считает общие годы/месяцы опыта                        │
│                                                                 │
│  5. ПРОВЕРКА ГРАММАТИКИ (LanguageTool)                         │
│     ├─▶ Грамматические ошибки                                   │
│     ├─▶ Орфографические ошибки                                  │
│     └─▶ Стилистические замечания                                │
│                                                                 │
│  6. ОБНАРУЖЕНИЕ ОШИБОК                                        │
│     ├─▶ Отсутствие контактной информации                       │
│     ├─▶ Слишком короткое резюме                                 │
│     ├─▶ Нет портфолио (для juniors)                            │
│     └─▶ Несогласованные даты                                    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 3. Алгоритм подбора вакансий

```
┌─────────────────────────────────────────────────────────────────┐
│                  АЛГОРИТМ ПОДБОРА ВАКАНСИЙ                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ТРЕБОВАНИЯ ВАКАНСИИ                                           │
│        │                                                        │
│        ▼                                                        │
│  ┌─────────────────────┐                                       │
│  │ НОРМАЛИЗАЦИЯ НАВЫКОВ│                                       │
│  │ • PostgreSQL → SQL   │                                       │
│  │ • ReactJS → React    │                                       │
│  │ • Java 8 → Java      │                                       │
│  └──────────┬──────────┘                                       │
│             │                                                   │
│             ▼                                                   │
│  ┌─────────────────────┐                                       │
│  │ СРАВНЕНИЕ С РЕЗЮМЕ  │                                       │
│  │ • Прямое совпадение  │                                       │
│  │ • Синонимы            │                                       │
│  │ • Связанные навыки    │                                       │
│  └──────────┬──────────┘                                       │
│             │                                                   │
│             ▼                                                   │
│  ┌─────────────────────┐       ┌─────────────────────┐        │
│  │ ПРОВЕРКА ОПЫТА      │──────▶│ ПРОЦЕНТ СОВПАДЕНИЯ │        │
│  │ • Есть X лет опыта   │       │ • Совпало: 75%      │        │
│  │   с навыком Y?       │       │ • Не хватает: 25%    │        │
│  └─────────────────────┘       │ • Статус: подобран   │        │
│                                └─────────────────────┘        │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 4. Синонимический подбор навыков

Система понимает, что разные термины могут означать один и тот же навык:

| Ввод пользователя | Также совпадает с |
|------------------|-------------------|
| PostgreSQL | SQL, Postgres, psql |
| React | ReactJS, React.js, React.js |
| JavaScript | JS, javascript |
| Java | Java 8, Java 11, Java 17 |

## Частые команды

```bash
# Просмотр логов
docker compose logs -f

# Просмотр логов конкретного сервиса
docker compose logs backend
docker compose logs frontend

# Перезапуск сервисов
docker compose restart

# Остановить все сервисы
docker compose down

# Остановить и удалить данные
docker compose down -v
```

## Стек технологий

### Backend
- **Framework**: FastAPI с Python 3.11+
- **Database**: PostgreSQL 14 с SQLAlchemy 2.0
- **ML/NLP**: KeyBERT, SpaCy, LanguageTool
- **Async**: Celery + Redis

### Frontend
- **Framework**: React 18 с TypeScript 5.6
- **Build**: Vite 5.4
- **UI**: Material-UI (MUI) v6
- **i18n**: react-i18next (EN/RU)

## Примеры API

### Загрузить резюме

```bash
curl -X POST http://localhost:8000/api/resumes/upload \
  -F "file=@resume.pdf"
```

### Проанализировать резюме

```bash
curl -X POST http://localhost:8000/api/resumes/analyze \
  -H "Content-Type: application/json" \
  -d '{"resume_id": "uuid", "extract_keywords": true}'
```

### Подбор вакансии

```bash
curl -X POST http://localhost:8000/api/matching/compare \
  -H "Content-Type: application/json" \
  -d '{
    "resume_id": "uuid",
    "vacancy_data": {
      "position": "Java Developer",
      "mandatory_requirements": ["Java", "Spring"]
    }
  }'
```


## Решение проблем

**Порт уже занят?**
Отредактируйте `.env` и измените `FRONTEND_PORT` или `BACKEND_PORT`.

**Сервисы не запускаются?**
```bash
docker compose logs backend
```

**PowerShell скрипты блокированы?**
```powershell
Set-ExecutionPolicy -Scope CurrentUser -ExecutionPolicy RemoteSigned
```

**Сбросить всё?**
```bash
docker compose down -v
bash setup.sh
```

